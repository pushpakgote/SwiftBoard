{% extends "base.html" %}
{% load crispy_forms_tags  %}
{% block title %}{{title}} | {{block.super}} {% endblock  %}
{% block content %}

<form method="post" action=".">
  {% csrf_token %}
<div class="row">
    <div class="col-md-6">
    {% comment %} {{form.as_p}} {% endcomment %}
      <div class="card card-primary">
        <div class="card-header">
          <h3 class="card-title">General</h3>

          <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
              <i class="fas fa-minus"></i>
            </button>
          </div>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label for="inputName">Project Name</label>
            {{form.name|as_crispy_field}}
          </div>
          
          <div class="form-group">
            <label for="inputDescription">Project Description</label>
            {{form.description|as_crispy_field}}
          </div>
          <div class="form-group">
            <label for="inputName">Team</label>
            {{form.team|as_crispy_field}}
          </div>
          <div class="form-group">
            <label for="inputClientCompany">Client Company</label>
            {{form.client_company|as_crispy_field}}
          </div>
          <div class="form-group">
            <label for="inputName">Status</label>
            {{form.status|as_crispy_field}}
          </div>
          <div class="form-group">
            <label for="inputStatus">Priority</label>
            {{form.priority|as_crispy_field}}
          </div>
          
          <div class="form-group">
            <label for="inputProjectLeader">Start Date </label>
            {{form.start_date|as_crispy_field}}
          </div>
          <div class="form-group">
            <label for="inputProjectLeader">Due Date</label>
            {{form.due_date|as_crispy_field}}
          </div>
        </div>
      </div>
    </div>
      <!-- /.card-body -->
      <div class="col-md-6">
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">Budget</h3>

            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
          <div class="card-body">
            <div class="form-group">
              <label for="inputEstimatedBudget">Estimated budget</label>
              {{form.total_amount|as_crispy_field}}
            </div>
            <div class="form-group">
              <label for="inputSpentBudget">Total amount spent</label>
              {{form.amount_spent|as_crispy_field}}
            </div>
            <div class="form-group">
              <label for="inputEstimatedDuration">Estimated project duration</label>
              {{form.estimated_duration|as_crispy_field}}
            </div>
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /.card -->
      </div>
    </div>
    <!-- /.card -->

  <div class="row"  style="padding-bottom: 10px;">
    <div class="col-12">
      <a href="javascript:window.history.back()" class="btn btn-secondary">Cancel</a>
      <input type="submit" value="{% if request.resolver_match.url_name in 'create create-for-team' %}Create Project {% else %}Update Project {% endif %}" class="btn btn-success float-right">
    </div>
  </div>
{% endblock  %}